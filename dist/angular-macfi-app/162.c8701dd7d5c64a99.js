"use strict";(self.webpackChunkangular_MACFI_APP=self.webpackChunkangular_MACFI_APP||[]).push([[162],{3162:(F,u,n)=>{n.r(u),n.d(u,{EmpleadosModule:()=>M});var f=n(9808),a=n(2382),s=n(9082),z=n(5737),g=n(647),p=n(1894),v=n(6042),Z=n(2121),_=n(9727),c=n(7957),d=n(4546),h=n(1047),E=n(3868),b=n(5905),C=n(8054),T=n(8244),o=n(5e3),x=n(26),A=n(2643),U=n(2683);function J(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td")(14,"a",11),o.NdJ("click",function(){const m=o.CHM(e).$implicit;return o.oxw().mostrar(m)}),o._UZ(15,"i",12),o.qZA(),o._UZ(16,"nz-divider",13),o.TgZ(17,"a",14),o.NdJ("nzOnConfirm",function(){const m=o.CHM(e).$implicit;return o.oxw().eliminar(m.id)})("nzOnCancel",function(){return o.CHM(e),o.oxw().cancel()}),o._UZ(18,"i",15),o.qZA()()()}if(2&t){const e=l.$implicit;o.xp6(2),o.Oqu(e.id),o.xp6(2),o.Oqu(e.nombre),o.xp6(2),o.Oqu(e.apellido),o.xp6(2),o.Oqu(e.ubicacion),o.xp6(2),o.Oqu(e.telefono),o.xp6(2),o.Oqu(e.otro)}}function S(t,l){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"form",16),o.NdJ("ngSubmit",function(){return o.CHM(e),o.oxw().guardar()}),o.TgZ(2,"div",17)(3,"div",3)(4,"nz-form-item")(5,"nz-form-label"),o._uU(6,"Nombre"),o.qZA(),o.TgZ(7,"nz-form-control",18),o._UZ(8,"input",19),o.qZA()()()(),o.TgZ(9,"div",17)(10,"div",3)(11,"nz-form-item")(12,"nz-form-label"),o._uU(13,"Apellido"),o.qZA(),o.TgZ(14,"nz-form-control",18),o._UZ(15,"input",20),o.qZA()()()(),o.TgZ(16,"div",17)(17,"div",3)(18,"nz-form-item")(19,"nz-form-label"),o._uU(20,"Ubicacion"),o.qZA(),o.TgZ(21,"nz-form-control",18),o._UZ(22,"input",21),o.qZA()()()(),o.TgZ(23,"div",17)(24,"div",3)(25,"nz-form-item")(26,"nz-form-label"),o._uU(27,"Telefono"),o.qZA(),o.TgZ(28,"nz-form-control",18),o._UZ(29,"input",22),o.qZA()()()(),o.TgZ(30,"div",17)(31,"div",3)(32,"nz-form-item")(33,"nz-form-label"),o._uU(34,"Otro"),o.qZA(),o.TgZ(35,"nz-form-control",18),o._UZ(36,"input",23),o.qZA()()()()(),o.BQk()}if(2&t){const e=o.oxw();o.xp6(1),o.Q6J("formGroup",e.formEmpleado),o.xp6(1),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8)}}function y(t,l){if(1&t){const e=o.EpF();o.TgZ(0,"div")(1,"button",24),o.NdJ("click",function(){return o.CHM(e),o.oxw().ocultar()}),o._uU(2,"Cancelar"),o.qZA(),o.TgZ(3,"button",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().guardar()}),o._uU(4,"Guardar"),o.qZA()()}}const N=[{path:"",component:(()=>{class t{constructor(e,r,i){this.empleadoService=e,this.messageService=r,this.fb=i,this.empleado=[],this.visible=!1,this.formEmpleado=this.fb.group({apellido:[],id:[],nombre:[],otro:[],telefono:[],ubicacion:[]})}eliminar(e){this.empleadoService.deleteById({id:e}).subscribe(()=>{this.empleado=this.empleado.filter(r=>r.id!==e),this.messageService.success("Registro Eliminado")})}cancel(){this.messageService.info("Su registro sigue activo!")}ocultar(){this.visible=!1,this.formEmpleado.reset()}mostrar(e){(null==e?void 0:e.id)&&this.formEmpleado.setValue(e),this.visible=!0}guardar(){let e=!1;this.formEmpleado.setValue(Object.assign(Object.assign({},this.formEmpleado.value),{telefono:Number(this.formEmpleado.value.telefono)})),this.formEmpleado.value.id?this.empleadoService.updateById({id:this.formEmpleado.value.id,body:this.formEmpleado.value}).subscribe(()=>{this.empleado=this.empleado.map(r=>r.id===this.formEmpleado.value.id?this.formEmpleado.value:r),e=!0,this.messageService.success("Registro actualizado con exito!"),this.formEmpleado.reset()}):(delete this.formEmpleado.value.id,this.empleadoService.create({body:this.formEmpleado.value}).subscribe(r=>{this.empleado=[...this.empleado,r],this.messageService.success("Registro creado con exito!"),this.formEmpleado.reset()})),e||this.messageService.error("Parametros incorrectos, no se guardo"),this.visible=!1}ngOnInit(){this.empleadoService.find().subscribe(e=>this.empleado=e)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(x.jR),o.Y36(_.dD),o.Y36(a.qu))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-empleados"]],decls:34,vars:3,consts:[["nz-row","","nzJustify","center","nzAlign","middle"],["nz-col","","nzSpan","24","nzJustify","center"],["nz-row",""],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",3,"click"],[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],["nzTitle","Administracion Empleado",3,"nzVisible","nzVisibleChange"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],["nz-icon","","nzType","edit","nzTheme","twotone"],["nzType","vertical"],["nz-popconfirm","","nzPopconfirmTitle","\xbfEst\xe1 seguro de borrar el registro?","nzPopconfirmPlacement","bottom","nzShape","circle","nzCancelText","No","nzOkText","Si",3,"nzOnConfirm","nzOnCancel"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["nz-row","",3,"nzGutter"],["nzErrorTip","Por favor escriba el dato correcto!"],["formControlName","nombre","nz-input","","placeholder","Escribe el nombre del empleado"],["formControlName","apellido","nz-input","","placeholder","Escribe el apellido del empleado"],["formControlName","ubicacion","nz-input","","placeholder","Escribe la ubicacion del empleado"],["formControlName","telefono","nz-input","","placeholder","Escribe el telefono del empleado"],["formControlName","otro","nz-input","","placeholder","Escribe otro dato del empleado"],["nz-button","","nzType","default",3,"click"]],template:function(e,r){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Empleados"),o.qZA()()(),o.TgZ(4,"div",2)(5,"div",3)(6,"button",4),o.NdJ("click",function(){return r.mostrar()}),o._uU(7,"Nuevo Empleado"),o.qZA()()(),o._UZ(8,"hr"),o.TgZ(9,"div",2)(10,"div",3)(11,"nz-table",5,6)(13,"thead")(14,"tr")(15,"th"),o._uU(16,"ID"),o.qZA(),o.TgZ(17,"th"),o._uU(18,"Nombre"),o.qZA(),o.TgZ(19,"th"),o._uU(20,"Apellido"),o.qZA(),o.TgZ(21,"th"),o._uU(22,"Ubicacion"),o.qZA(),o.TgZ(23,"th"),o._uU(24,"Telefono"),o.qZA(),o.TgZ(25,"th"),o._uU(26,"Otro"),o.qZA(),o.TgZ(27,"th"),o._uU(28,"Acciones"),o.qZA()()(),o.TgZ(29,"tbody"),o.YNc(30,J,19,6,"tr",7),o.qZA()()()(),o.TgZ(31,"nz-modal",8),o.NdJ("nzVisibleChange",function(m){return r.visible=m}),o.YNc(32,S,37,6,"ng-container",9),o.YNc(33,y,5,0,"div",10),o.qZA()),2&e){const i=o.MAs(12);o.xp6(11),o.Q6J("nzData",r.empleado),o.xp6(19),o.Q6J("ngForOf",i.data),o.xp6(1),o.Q6J("nzVisible",r.visible)}},directives:[p.SK,p.t3,v.ix,A.dQ,U.w,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,f.sg,g.Ls,z.g,Z.JW,c.du,c.Hf,a._Y,a.JL,d.Lr,a.sg,d.Nx,d.iK,d.Fd,a.Fj,h.Zp,a.JJ,a.u,c.Uh],styles:[""]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[T.Bz.forChild(N)],T.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[O,f.ez,a.u5,a.UX,s.HQ,z.S,g.PV,p.Jb,v.sL,Z._p,_.gR,c.Qp,d.U5,h.o7,E.aF,b.Hb,C.LV]]}),t})()}}]);