"use strict";(self.webpackChunkangular_MACFI_APP=self.webpackChunkangular_MACFI_APP||[]).push([[866],{4866:(E,p,n)=>{n.r(p),n.d(p,{ActivosFijosModule:()=>Q});var z=n(9808),c=n(2382),s=n(9082),Z=n(5737),g=n(647),m=n(1894),A=n(6042),_=n(2121),h=n(9727),d=n(7957),u=n(4546),T=n(1047),v=n(3868),b=n(5905),f=n(8054),U=n(8244),o=n(5e3),x=n(26),q=n(2643),C=n(2683);function J(i,r){if(1&i){const t=o.EpF();o.TgZ(0,"tr")(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.qZA(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.TgZ(13,"td"),o._uU(14),o.qZA(),o.TgZ(15,"td"),o._uU(16),o.qZA(),o.TgZ(17,"td"),o._uU(18),o.qZA(),o.TgZ(19,"td"),o._uU(20),o.qZA(),o.TgZ(21,"td"),o._uU(22),o.qZA(),o.TgZ(23,"td"),o._uU(24),o.qZA(),o.TgZ(25,"td"),o._uU(26),o.qZA(),o.TgZ(27,"td")(28,"a",11),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw().mostrar(l)}),o._UZ(29,"i",12),o.qZA(),o._UZ(30,"nz-divider",13),o.TgZ(31,"a",14),o.NdJ("nzOnConfirm",function(){const l=o.CHM(t).$implicit;return o.oxw().eliminar(l.id)})("nzOnCancel",function(){return o.CHM(t),o.oxw().cancel()}),o._UZ(32,"i",15),o.qZA()()()}if(2&i){const t=r.$implicit;o.xp6(2),o.Oqu(t.id),o.xp6(2),o.Oqu(t.descripcion),o.xp6(2),o.Oqu(t.ubicacion),o.xp6(2),o.Oqu(t.fechaadquisicion),o.xp6(2),o.Oqu(t.empleadosId),o.xp6(2),o.Oqu(t.estado),o.xp6(2),o.Oqu(t.vidautil),o.xp6(2),o.Oqu(t.depreciacionanual),o.xp6(2),o.Oqu(t.depreciacionmensual),o.xp6(2),o.Oqu(t.valorinicial),o.xp6(2),o.Oqu(t.valoractual),o.xp6(2),o.Oqu(t.metodo),o.xp6(2),o.Oqu(t.clasificacion)}}function N(i,r){if(1&i&&o._UZ(0,"nz-option",36),2&i){const t=r.$implicit;o.Q6J("nzValue",t.id)("nzLabel",t.nombre+" "+t.apellido)}}function O(i,r){if(1&i){const t=o.EpF();o.ynx(0),o.TgZ(1,"form",16),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().guardar()}),o.TgZ(2,"div",17)(3,"div",3)(4,"nz-form-item")(5,"nz-form-label"),o._uU(6,"Nombre de activo"),o.qZA(),o.TgZ(7,"nz-form-control",18),o._UZ(8,"input",19),o.qZA()()()(),o.TgZ(9,"div",17)(10,"div",3)(11,"nz-form-item")(12,"nz-form-label"),o._uU(13,"Ubicacion"),o.qZA(),o.TgZ(14,"nz-form-control",18),o._UZ(15,"input",20),o.qZA()()()(),o.TgZ(16,"div",17)(17,"div",3)(18,"nz-form-item")(19,"nz-form-label"),o._uU(20,"Fecha de Adquision"),o.qZA(),o.TgZ(21,"nz-form-control",18),o._UZ(22,"nz-date-picker",21),o.qZA()()()(),o.TgZ(23,"div",17)(24,"div",3)(25,"nz-form-item")(26,"nz-form-label"),o._uU(27,"Empleado Asignado"),o.qZA(),o.TgZ(28,"nz-form-control",18)(29,"nz-select",22),o.YNc(30,N,1,2,"nz-option",23),o.qZA()()()()(),o.TgZ(31,"div",24)(32,"div",3)(33,"nz-form-item")(34,"nz-form-label"),o._uU(35,"Empleado Asignado"),o.qZA(),o.TgZ(36,"nz-form-control",18),o._UZ(37,"nz-select",25),o.qZA()()()(),o.TgZ(38,"div",17)(39,"div",3)(40,"nz-form-item")(41,"nz-form-label"),o._uU(42,"Estado"),o.qZA(),o.TgZ(43,"nz-form-control",26)(44,"nz-radio-group",27)(45,"label",28),o._uU(46,"Activo"),o.qZA(),o.TgZ(47,"label",28),o._uU(48,"Inactivo"),o.qZA()()()()()(),o.TgZ(49,"div",17)(50,"div",3)(51,"nz-form-item")(52,"nz-form-label"),o._uU(53,"Vida Util"),o.qZA(),o.TgZ(54,"nz-form-control",18),o._UZ(55,"input",29),o.qZA()()()(),o.TgZ(56,"div",17)(57,"div",3)(58,"nz-form-item")(59,"nz-form-label"),o._uU(60,"Depreciacion Anual"),o.qZA(),o.TgZ(61,"nz-form-control",18),o._UZ(62,"input",30),o.qZA()()()(),o.TgZ(63,"div",17)(64,"div",3)(65,"nz-form-item")(66,"nz-form-label"),o._uU(67,"Depreciacion Mensual"),o.qZA(),o.TgZ(68,"nz-form-control",18),o._UZ(69,"input",31),o.qZA()()()(),o.TgZ(70,"div",17)(71,"div",3)(72,"nz-form-item")(73,"nz-form-label"),o._uU(74,"Valor Inicial"),o.qZA(),o.TgZ(75,"nz-form-control",18),o._UZ(76,"input",32),o.qZA()()()(),o.TgZ(77,"div",17)(78,"div",3)(79,"nz-form-item")(80,"nz-form-label"),o._uU(81,"Valor Actual"),o.qZA(),o.TgZ(82,"nz-form-control",18),o._UZ(83,"input",33),o.qZA()()()(),o.TgZ(84,"div",17)(85,"div",3)(86,"nz-form-item")(87,"nz-form-label"),o._uU(88,"Metodo"),o.qZA(),o.TgZ(89,"nz-form-control",18),o._UZ(90,"input",34),o.qZA()()()(),o.TgZ(91,"div",17)(92,"div",3)(93,"nz-form-item")(94,"nz-form-label"),o._uU(95,"Clasificacion "),o.qZA(),o.TgZ(96,"nz-form-control",18),o._UZ(97,"input",35),o.qZA()()()()(),o.BQk()}if(2&i){const t=o.oxw();o.xp6(1),o.Q6J("formGroup",t.formActivos),o.xp6(1),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("ngForOf",t.empleado),o.xp6(1),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzValue",!0),o.xp6(2),o.Q6J("nzValue",!1),o.xp6(2),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8),o.xp6(7),o.Q6J("nzGutter",8)}}function j(i,r){if(1&i){const t=o.EpF();o.TgZ(0,"div")(1,"button",37),o.NdJ("click",function(){return o.CHM(t),o.oxw().ocultar()}),o._uU(2,"Cancelar"),o.qZA(),o.TgZ(3,"button",4),o.NdJ("click",function(){return o.CHM(t),o.oxw().guardar()}),o._uU(4,"Guardar"),o.qZA()()}}const F=[{path:"",component:(()=>{class i{constructor(t,e,a,l){this.activosService=t,this.empleadoService=e,this.messageService=a,this.fb=l,this.activos=[],this.empleado=[],this.visible=!1,this.formActivos=this.fb.group({id:[],descripcion:[],ubicacion:[],fechaadquisicion:[],estado:[],empleadosId:[],empleadoasignado:[],vidautil:[],depreciacionanual:[],depreciacionmensual:[],valorinicial:[],valoractual:[],metodo:[],clasificacion:[]})}eliminar(t){this.activosService.deleteById({id:t}).subscribe(()=>{this.activos=this.activos.filter(e=>e.id!==t),this.messageService.success("Registro Eliminado")})}cancel(){this.messageService.info("Su registro sigue activo!")}ocultar(){this.visible=!1,this.formActivos.reset()}mostrar(t){(null==t?void 0:t.id)&&this.formActivos.setValue(t),this.visible=!0}guardar(){let t=!1;this.formActivos.setValue(Object.assign(Object.assign({},this.formActivos.value),{estado:Boolean(this.formActivos.value.estado),valorinicial:Number(this.formActivos.value.valorinicial),empleadoasignado:String(""),vidautil:Number(this.formActivos.value.vidautil),depreciacionanual:Number(this.formActivos.value.depreciacionanual),depreciacionmensual:Number(this.formActivos.value.depreciacionmensual),valoractual:Number(this.formActivos.value.valoractual)})),this.formActivos.value.id?this.activosService.updateById({id:this.formActivos.value.id,body:this.formActivos.value}).subscribe(()=>{this.activos=this.activos.map(e=>e.id===this.formActivos.value.id?this.formActivos.value:e),t=!0,this.messageService.success("Registro actualizado con exito!"),this.formActivos.reset()}):(delete this.formActivos.value.id,this.activosService.create({body:this.formActivos.value}).subscribe(e=>{this.activos=[...this.activos,e],this.messageService.success("Registro creado con exito!"),this.formActivos.reset()})),this.visible=!1}ngOnInit(){this.activosService.find().subscribe(t=>this.activos=t),this.empleadoService.find().subscribe(t=>this.empleado=t)}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(x.DA),o.Y36(x.jR),o.Y36(h.dD),o.Y36(c.qu))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-activosfijos"]],decls:48,vars:3,consts:[["nz-row","","nzJustify","center","nzAlign","middle"],["nz-col","","nzSpan","24","nzJustify","center"],["nz-row",""],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",3,"click"],[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],["nzTitle","Administracion Activo",3,"nzVisible","nzVisibleChange"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],["nz-icon","","nzType","edit","nzTheme","twotone"],["nzType","vertical"],["nz-popconfirm","","nzPopconfirmTitle","\xbfEst\xe1 seguro de borrar el registro?","nzPopconfirmPlacement","bottom","nzShape","circle","nzCancelText","No","nzOkText","Si",3,"nzOnConfirm","nzOnCancel"],["nz-icon","","nzType","delete","nzTheme","outline"],["nz-form","","nzLayout","vertical",3,"formGroup","ngSubmit"],["nz-row","",3,"nzGutter"],["nzErrorTip","Por favor escriba el dato correcto!"],["formControlName","descripcion","nz-input","","placeholder","Escribe el nombre del activo"],["formControlName","ubicacion","nz-input","","placeholder","Escribe el apellido del empleado"],["formControlName","fechaadquisicion","nzPlaceHolder","Seleccione Fecha"],["formControlName","empleadosId"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-row","","hidden","",3,"nzGutter"],["formControlName","empleadoasignado"],["nzErrorTip","Por favor seleccione el dato correcto!"],["formControlName","estado"],["nz-radio","",3,"nzValue"],["formControlName","vidautil","nz-input","","placeholder","Escriba vida util"],["formControlName","depreciacionanual","nz-input","","placeholder","Escriba la depreciacion anual"],["formControlName","depreciacionmensual","nz-input","","placeholder","Escriba la depreciacion mensual"],["formControlName","valorinicial","nz-input","","placeholder","Escriba el valor inicial"],["formControlName","valoractual","nz-input","","placeholder","Escriba el valor actual"],["formControlName","metodo","nz-input","","placeholder","Escriba el metodo"],["formControlName","clasificacion","nz-input","","placeholder","Escriba la clasificacion"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(t,e){if(1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Activos fijos"),o.qZA()()(),o.TgZ(4,"div",2)(5,"div",3)(6,"button",4),o.NdJ("click",function(){return e.mostrar()}),o._uU(7,"Nuevo Activo"),o.qZA()()(),o._UZ(8,"hr"),o.TgZ(9,"div",2)(10,"div",3)(11,"nz-table",5,6)(13,"thead")(14,"tr")(15,"th"),o._uU(16,"ID"),o.qZA(),o.TgZ(17,"th"),o._uU(18,"Nombre de activo"),o.qZA(),o.TgZ(19,"th"),o._uU(20,"Ubicacion"),o.qZA(),o.TgZ(21,"th"),o._uU(22,"Fecha"),o.qZA(),o.TgZ(23,"th"),o._uU(24,"Empleado Asignado"),o.qZA(),o.TgZ(25,"th"),o._uU(26,"Estado"),o.qZA(),o.TgZ(27,"th"),o._uU(28,"Vida Util"),o.qZA(),o.TgZ(29,"th"),o._uU(30,"Depreciacion Anual"),o.qZA(),o.TgZ(31,"th"),o._uU(32,"Depreciacion Mensual"),o.qZA(),o.TgZ(33,"th"),o._uU(34,"Valor Inicial"),o.qZA(),o.TgZ(35,"th"),o._uU(36,"Valor Actual"),o.qZA(),o.TgZ(37,"th"),o._uU(38,"Metodo"),o.qZA(),o.TgZ(39,"th"),o._uU(40,"Clasificacion"),o.qZA(),o.TgZ(41,"th"),o._uU(42,"Acciones"),o.qZA()()(),o.TgZ(43,"tbody"),o.YNc(44,J,33,13,"tr",7),o.qZA()()()(),o.TgZ(45,"nz-modal",8),o.NdJ("nzVisibleChange",function(l){return e.visible=l}),o.YNc(46,O,98,17,"ng-container",9),o.YNc(47,j,5,0,"div",10),o.qZA()),2&t){const a=o.MAs(12);o.xp6(11),o.Q6J("nzData",e.activos),o.xp6(33),o.Q6J("ngForOf",a.data),o.xp6(1),o.Q6J("nzVisible",e.visible)}},directives:[m.SK,m.t3,A.ix,q.dQ,C.w,s.N8,s.Om,s.$Z,s.Uo,s._C,s.p0,z.sg,g.Ls,Z.g,_.JW,d.du,d.Hf,c._Y,c.JL,u.Lr,c.sg,u.Nx,u.iK,u.Fd,c.Fj,T.Zp,c.JJ,c.u,b.uw,f.Vq,f.Ip,v.Dg,v.Of,d.Uh],styles:[""]}),i})()}];let S=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[U.Bz.forChild(F)],U.Bz]}),i})(),Q=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[S,z.ez,c.u5,c.UX,s.HQ,Z.S,g.PV,m.Jb,A.sL,_._p,h.gR,d.Qp,u.U5,T.o7,v.aF,b.Hb,f.LV]]}),i})()}}]);